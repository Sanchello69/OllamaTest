# –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —á–∞—Ç–∞

## –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Gradle (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!) ‚úÖ

–¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –≤–≤–æ–¥–æ–º:

```bash
./gradlew run --args='chat' --console=plain
```

### –ü—Ä–∏–º–µ—Ä—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```bash
# –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫
./gradlew run --args='chat' --console=plain

# –° —Ñ–∏–ª—å—Ç—Ä–æ–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
./gradlew run --args='chat --min-score=0.7' --console=plain

# –° –∫–∞—Å—Ç–æ–º–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π
./gradlew run --args='chat --history-path=my_session.json' --console=plain

# –ë–µ–∑ RAG
./gradlew run --args='chat --no-rag' --console=plain

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º
./gradlew run --args='chat embeddings_index.json --min-score=0.75' --console=plain
```

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--console=plain` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–≤–æ–¥–∞!

## –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ JAR —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

–ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±:

### –®–∞–≥ 1: –°–æ–±–µ—Ä–∏—Ç–µ JAR
```bash
./gradlew jar
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ JAR
```bash
java -jar build/libs/OllamaTest-1.0-SNAPSHOT.jar chat
```

### –ü—Ä–∏–º–µ—Ä—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```bash
# –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫
java -jar build/libs/OllamaTest-1.0-SNAPSHOT.jar chat

# –° —Ñ–∏–ª—å—Ç—Ä–æ–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
java -jar build/libs/OllamaTest-1.0-SNAPSHOT.jar chat --min-score=0.7

# –° –∫–∞—Å—Ç–æ–º–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π
java -jar build/libs/OllamaTest-1.0-SNAPSHOT.jar chat --history-path=research.json

# –ë–µ–∑ RAG
java -jar build/libs/OllamaTest-1.0-SNAPSHOT.jar chat --no-rag

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º
java -jar build/libs/OllamaTest-1.0-SNAPSHOT.jar chat embeddings_index.json --min-score=0.75
```

## –°–ø–æ—Å–æ–± 3: –°–æ–∑–¥–∞—Ç—å —É–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `chat.sh`:

```bash
#!/bin/bash
java -jar build/libs/OllamaTest-1.0-SNAPSHOT.jar chat "$@"
```

–°–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x chat.sh
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
./chat.sh
./chat.sh --min-score=0.7
./chat.sh my_index.json --history-path=session.json
```

## –ö–æ–º–∞–Ω–¥—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —á–∞—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ:

```
üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç —Å RAG
üìù –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤: conversation_history.json

–ö–æ–º–∞–Ω–¥—ã:
  - –í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞
  - /history - –ø–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞
  - /stats - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  - /clear - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
  - /exit –∏–ª–∏ /quit - –≤—ã—Ö–æ–¥

–í—ã:
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

- **–ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å** - –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- **/history** - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞
- **/stats** - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Ä–∞—É–Ω–¥—ã, –∏—Å—Ç–æ—á–Ω–∏–∫–∏, RAG usage)
- **/clear** - –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é (–Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ)
- **/exit** –∏–ª–∏ **/quit** - –≤—ã—Ö–æ–¥ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏—Å—Ç–æ—Ä–∏–∏

## –ü—Ä–∏–º–µ—Ä —Å–µ—Å—Å–∏–∏

```
üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç —Å RAG

–í—ã: –ö–∞–∫ –∑–≤–∞–ª–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –≥–µ—Ä–æ—è –∫–Ω–∏–≥–∏?

Step 1: Loading index and searching for relevant context...
‚úì Index loaded (247 entries)

Step 2: Generating question embedding...
‚úì Embedding generated

Step 3: Searching for relevant chunks...
‚úì Found 5 relevant chunks

üìö Relevant chunks:
  1. [Score: 0.8523] –ì–∞—Ä—Ä–∏ –ì–∞–ª–ª–µ—Ä, –∫–æ—Ç–æ—Ä–æ–≥–æ –¥—Ä—É–∑—å—è –Ω–∞–∑—ã–≤–∞–ª–∏ –°—Ç–µ–ø–Ω—ã–º –í–æ–ª–∫–æ–º...
  2. [Score: 0.7891] –ì–∞–ª–ª–µ—Ä—É –±—ã–ª–æ –æ–∫–æ–ª–æ –ø—è—Ç–∏–¥–µ—Å—è—Ç–∏ –ª–µ—Ç...

Step 4: Sending question with context to LLM...
‚úì Response received

üí¨ Answer:
–ì–ª–∞–≤–Ω–æ–≥–æ –≥–µ—Ä–æ—è –∑–≤–∞–ª–∏ –ì–∞—Ä—Ä–∏ –ì–∞–ª–ª–µ—Ä, —Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–∞–∫ –°—Ç–µ–ø–Ω–æ–π –í–æ–ª–∫.

üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:

1. [–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 0.8523]
   –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: chunk_index=42, start_pos=15234, end_pos=17123
   –¢–µ–∫—Å—Ç: –ì–∞—Ä—Ä–∏ –ì–∞–ª–ª–µ—Ä, –∫–æ—Ç–æ—Ä–æ–≥–æ –¥—Ä—É–∑—å—è –Ω–∞–∑—ã–≤–∞–ª–∏ –°—Ç–µ–ø–Ω—ã–º –í–æ–ª–∫–æ–º...

2. [–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 0.7891]
   –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: chunk_index=45, start_pos=17500, end_pos=18234
   –¢–µ–∫—Å—Ç: –ì–∞–ª–ª–µ—Ä—É –±—ã–ª–æ –æ–∫–æ–ª–æ –ø—è—Ç–∏–¥–µ—Å—è—Ç–∏ –ª–µ—Ç...

–í—ã: –ê —Å–∫–æ–ª—å–∫–æ –µ–º—É –±—ã–ª–æ –ª–µ—Ç?

[—Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞]

üí¨ Answer:
–ï–º—É –±—ã–ª–æ –æ–∫–æ–ª–æ 50 –ª–µ—Ç.

üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏:
[...]

–í—ã: /stats

–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞:
  –í—Å–µ–≥–æ —Ä–∞—É–Ω–¥–æ–≤: 2
  –° RAG: 2
  –ë–µ–∑ RAG: 0
  –í—Å–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: 7
  –°–æ–∑–¥–∞–Ω–æ: 2026-01-12 15:30:00

–í—ã: /exit

üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏...
üíæ –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: conversation_history.json (2 —Ä–∞—É–Ω–¥–æ–≤)
–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ß–∞—Ç —Å—Ä–∞–∑—É –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ 1:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--console=plain`:
```bash
./gradlew run --args='chat' --console=plain
```

**–†–µ—à–µ–Ω–∏–µ 2:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JAR —Ñ–∞–π–ª –Ω–∞–ø—Ä—è–º—É—é:
```bash
java -jar build/libs/OllamaTest-1.0-SNAPSHOT.jar chat
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –≤–∏–¥–Ω–æ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö. –ü—Ä–æ—Å—Ç–æ –≤–≤–æ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏ –Ω–∞–∂–∏–º–∞–π—Ç–µ Enter.

### –ü—Ä–æ–±–ª–µ–º–∞: –ò—Å—Ç–æ—Ä–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ñ–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏ (`conversation_history.json`)
- –í–∞–ª–∏–¥–µ–Ω –ª–∏ JSON –≤ —Ñ–∞–π–ª–µ
- –£–∫–∞–∑–∞–Ω –ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å —á–µ—Ä–µ–∑ `--history-path`

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –∞–ª–∏–∞—Å –≤ ~/.bashrc –∏–ª–∏ ~/.zshrc
alias chat='java -jar /path/to/OllamaTest/build/libs/OllamaTest-1.0-SNAPSHOT.jar chat'

# –ó–∞—Ç–µ–º –ø—Ä–æ—Å—Ç–æ:
chat
chat --min-score=0.7
```

### –î–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:
```bash
# –ü—Ä–æ–µ–∫—Ç 1
chat --history-path=project1_chat.json

# –ü—Ä–æ–µ–∫—Ç 2
chat --history-path=project2_chat.json

# –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
chat --min-score=0.8 --history-path=research.json
```

### –î–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
```bash
# –û–±—â–µ–Ω–∏–µ —Å LLM –±–µ–∑ RAG
chat --no-rag --history-path=general_chat.json
```

## –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- **Enter** - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
- **Ctrl+C** - —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π –≤—ã—Ö–æ–¥ (–∏—Å—Ç–æ—Ä–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è!)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/exit` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ —á–∞—Ç–∞:
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ JSON —Ñ–∞–π–ª–µ
- –ú–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥ –ø–æ–∑–∂–µ (–∏—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –ú–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é: `cat conversation_history.json | jq`
- –ú–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã `ask` –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
